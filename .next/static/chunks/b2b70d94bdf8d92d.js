(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39150,e=>{"use strict";var t=e.i(43476),n=e.i(71645);function r(){let[e,r]=(0,n.useState)([]),[a,i]=(0,n.useState)("all"),[o,c]=(0,n.useState)("date"),[s,d]=(0,n.useState)("all");function l(e){let t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}h ${n}m ${r}s`:n>0?`${n}m ${r}s`:`${r}s`}(0,n.useEffect)(()=>{try{let e=localStorage.getItem("media_history"),t=e?JSON.parse(e):[];"all"!==a&&(t=t.filter(e=>e.category===a));let n=new Date;"all"!==s&&(t=t.filter(e=>{let t=new Date(e.watchedAt);switch(s){case"today":return t.toDateString()===n.toDateString();case"week":let r=new Date(n.getTime()-6048e5);return t>=r;case"month":let a=new Date(n.getTime()-2592e6);return t>=a;default:return!0}})),t.sort((e,t)=>{switch(o){case"date":return new Date(t.watchedAt).getTime()-new Date(e.watchedAt).getTime();case"duration":return t.duration-e.duration;case"cost":return t.cost-e.cost;case"platform":return e.platform.localeCompare(t.platform);default:return 0}}),r(t)}catch(e){console.error("Error loading media history:",e),r([])}},[a,s]);let m={video:"Video",audio:"Audio",learn:"Learning",entertainment:"Games"},x=e.reduce((e,t)=>e+t.duration,0),u=e.reduce((e,t)=>e+t.cost,0),b=e.reduce((e,t)=>e+t.watchCount,0);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-blue-50 to-cyan-50 p-4 dark:border-zinc-800 dark:from-blue-900/20 dark:to-cyan-900/20",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Total Time"}),(0,t.jsx)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:l(x)})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-green-50 to-emerald-50 p-4 dark:border-zinc-800 dark:from-green-900/20 dark:to-emerald-900/20",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Total Spent"}),(0,t.jsxs)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:["â‚¬",u.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-purple-50 to-pink-50 p-4 dark:border-zinc-800 dark:from-purple-900/20 dark:to-pink-900/20",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Total Watches"}),(0,t.jsx)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:b})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 rounded-xl border border-zinc-200 bg-white/80 p-4 backdrop-blur-sm dark:border-zinc-800 dark:bg-zinc-900/80",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Category:"}),(0,t.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,t.jsx)("option",{value:"all",children:"All"}),(0,t.jsx)("option",{value:"video",children:"Video"}),(0,t.jsx)("option",{value:"audio",children:"Audio"}),(0,t.jsx)("option",{value:"learn",children:"Learning"}),(0,t.jsx)("option",{value:"entertainment",children:"Entertainment"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Date:"}),(0,t.jsxs)("select",{value:s,onChange:e=>d(e.target.value),className:"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,t.jsx)("option",{value:"all",children:"All Time"}),(0,t.jsx)("option",{value:"today",children:"Today"}),(0,t.jsx)("option",{value:"week",children:"This Week"}),(0,t.jsx)("option",{value:"month",children:"This Month"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Sort:"}),(0,t.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,t.jsx)("option",{value:"date",children:"Date"}),(0,t.jsx)("option",{value:"duration",children:"Duration"}),(0,t.jsx)("option",{value:"cost",children:"Cost"}),(0,t.jsx)("option",{value:"platform",children:"Platform"})]})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===e.length?(0,t.jsx)("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-8 text-center dark:border-zinc-800 dark:bg-zinc-800/50",children:(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"No media history found"})}):e.map(e=>(0,t.jsx)("div",{className:"group rounded-2xl border-2 border-zinc-200 bg-gradient-to-br from-white to-zinc-50/50 p-5 shadow-sm transition-all hover:shadow-xl hover:-translate-y-1 dark:border-zinc-800 dark:from-zinc-900 dark:to-zinc-800/50",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-100 to-cyan-100 text-3xl shadow-md dark:from-blue-900/30 dark:to-cyan-900/30",children:e.platformIcon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:e.title}),(0,t.jsx)("span",{className:"rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:m[e.category]})]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:[e.platform," â€¢ Watched ",e.watchCount," ",1===e.watchCount?"time":"times"]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-zinc-500 dark:text-zinc-500",children:[(0,t.jsxs)("span",{children:["â±ï¸ ",l(e.duration)]}),(0,t.jsxs)("span",{children:["ðŸ’° â‚¬",e.cost.toFixed(2)]}),(0,t.jsxs)("span",{children:["ðŸ“… ",new Date(e.watchedAt).toLocaleDateString()]}),(0,t.jsxs)("span",{children:["ðŸ• ",new Date(e.watchedAt).toLocaleTimeString()]})]})]})]})},e.id))})]})}e.s(["default",()=>r])},31713,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(15884),a=e.i(18566),i=e.i(22016);let o=[{id:"watch",label:"Watch",icon:"ðŸ“º",href:"/?tab=watch"},{id:"listen",label:"Listen",icon:"ðŸŽµ",href:"/?tab=listen"},{id:"learn",label:"Learn",icon:"ðŸ“š",href:"/?tab=learn"},{id:"entertainment",label:"Games",icon:"ðŸŽ®",href:"/?tab=entertainment"},{id:"wallet",label:"Wallet",icon:"ðŸ’°",href:"/wallet"}];function c(){let e=(0,a.usePathname)();return(0,t.jsx)("div",{className:"flex items-center gap-1 sm:gap-2 border-b-2 border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-sm rounded-t-xl px-2 sm:px-4 overflow-x-auto",children:o.map(n=>{var r;let a="wallet"===(r=n.id)?e.startsWith("/wallet"):(new URLSearchParams(window.location.search).get("tab")||"watch")===r;return(0,t.jsxs)(i.default,{href:n.href,className:`flex items-center gap-2 px-3 sm:px-4 py-3 text-sm font-semibold transition-all whitespace-nowrap ${a?"border-b-3 border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20 rounded-t-lg":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-t-lg"}`,children:[(0,t.jsx)("span",{className:"text-lg",children:n.icon}),(0,t.jsx)("span",{className:"hidden sm:inline",children:n.label})]},n.id)})})}function s(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center gap-1 border-b border-zinc-200 dark:border-zinc-800",children:o.map(e=>(0,t.jsxs)("div",{className:"px-4 py-3 text-sm text-zinc-400",children:[e.icon," ",e.label]},e.id))}),children:(0,t.jsx)(c,{})})}var d=e.i(74959);function l(){let e,[r,i]=(0,n.useState)(null),[o,c]=(0,n.useState)(0),s=(0,a.useRouter)();async function l(){try{let e=(await (0,d.getWalletConnect)()).getConnectedAddress();if(!e)return;let t=await (0,d.getBilling)(),n=(await t.getSessionHistory({userId:e})).find(e=>"active"===e.status);if(n){i(n);let e=new Date(n.startTime).getTime(),t=Date.now();c(Math.floor((t-e)/1e3))}else i(null),c(0)}catch(e){console.error("Error checking active session:",e)}}return((0,n.useEffect)(()=>{l();let e=setInterval(l,5e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{if(r){let e=setInterval(()=>{c(e=>e+1)},1e3);return()=>clearInterval(e)}},[r]),r)?(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t-2 border-blue-200 bg-gradient-to-r from-white via-blue-50/50 to-cyan-50/50 shadow-2xl backdrop-blur-sm dark:border-blue-800 dark:from-zinc-900 dark:via-blue-900/20 dark:to-cyan-900/20",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-2xl shadow-lg",children:"ðŸ“º"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-1 truncate",children:r.contentTitle||"Currently Watching"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,t.jsx)("span",{className:"font-mono font-semibold",children:(e=Math.floor(o/60),`${e.toString().padStart(2,"0")}:${(o%60).toString().padStart(2,"0")}`)}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:"Live"})]})]})]}),(0,t.jsx)("button",{onClick:()=>s.push(`/player?contentId=${r.contentId}`),className:"shrink-0 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-2.5 text-sm font-semibold text-white shadow-lg transition-all hover:from-blue-600 hover:to-cyan-600 hover:shadow-xl hover:scale-105 active:scale-95",children:"Resume"})]})})}):null}function m({onSearch:e,placeholder:r="Search content..."}){let[a,i]=(0,n.useState)("");return(0,t.jsx)("form",{onSubmit:function(t){t.preventDefault(),e?.(a)},className:"w-full",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:r,className:"w-full rounded-xl border-2 border-zinc-200 bg-white/80 backdrop-blur-sm px-4 py-3 pl-12 pr-4 text-zinc-900 shadow-sm placeholder-zinc-500 transition-all focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-4 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800/80 dark:text-zinc-100 dark:placeholder-zinc-400 dark:focus:border-blue-400"}),(0,t.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl",children:"ðŸ”"}),a&&(0,t.jsx)("button",{type:"button",onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 rounded-full p-1 text-zinc-400 hover:bg-zinc-100 hover:text-zinc-600 dark:hover:bg-zinc-700 dark:hover:text-zinc-300","aria-label":"Clear search",children:"âœ•"})]})})}let x=[{id:"netflix",name:"Netflix",category:"video",icon:"ðŸŽ¬",description:"Stream movies and TV shows",connected:!1},{id:"youtube",name:"YouTube",category:"video",icon:"ðŸ“º",description:"Watch videos and tutorials",connected:!1},{id:"disney",name:"Disney+",category:"video",icon:"ðŸ°",description:"Disney, Pixar, Marvel, and Star Wars content",connected:!1},{id:"amazon-prime",name:"Amazon Prime Video",category:"video",icon:"ðŸ“¦",description:"Movies, TV shows, and original content",connected:!1},{id:"hulu",name:"Hulu",category:"video",icon:"ðŸ“º",description:"TV shows, movies, and live TV",connected:!1},{id:"spotify",name:"Spotify",category:"audio",icon:"ðŸŽµ",description:"Listen to music and podcasts",connected:!1},{id:"audible",name:"Audible",category:"audio",icon:"ðŸŽ§",description:"Audiobooks and audio content",connected:!1},{id:"apple-music",name:"Apple Music",category:"audio",icon:"ðŸŽ",description:"Stream millions of songs",connected:!1},{id:"soundcloud",name:"SoundCloud",category:"audio",icon:"â˜ï¸",description:"Discover and stream music",connected:!1},{id:"pandora",name:"Pandora",category:"audio",icon:"ðŸ“»",description:"Personalized radio stations",connected:!1},{id:"podcast-addict",name:"Podcast Addict",category:"audio",icon:"ðŸŽ™ï¸",description:"Podcast player and manager",connected:!1},{id:"stitcher",name:"Stitcher",category:"audio",icon:"ðŸŽ§",description:"Podcasts and radio shows",connected:!1},{id:"tidal",name:"Tidal",category:"audio",icon:"ðŸŒŠ",description:"High-fidelity music streaming",connected:!1},{id:"deezer",name:"Deezer",category:"audio",icon:"ðŸŽµ",description:"Music streaming service",connected:!1},{id:"youtube-music",name:"YouTube Music",category:"audio",icon:"ðŸŽ¶",description:"Music videos and audio",connected:!1},{id:"coursera",name:"Coursera",category:"learn",icon:"ðŸ“š",description:"Online courses and learning",connected:!1},{id:"udemy",name:"Udemy",category:"learn",icon:"ðŸŽ“",description:"Online courses and training",connected:!1},{id:"khan-academy",name:"Khan Academy",category:"learn",icon:"ðŸŽ¯",description:"Free online courses and lessons",connected:!1},{id:"edx",name:"edX",category:"learn",icon:"ðŸ“–",description:"University-level courses",connected:!1},{id:"skillshare",name:"Skillshare",category:"learn",icon:"âœï¸",description:"Creative and professional skills",connected:!1},{id:"pluralsight",name:"Pluralsight",category:"learn",icon:"ðŸ’»",description:"Technology and IT courses",connected:!1},{id:"linkedin-learning",name:"LinkedIn Learning",category:"learn",icon:"ðŸ’¼",description:"Professional development courses",connected:!1},{id:"masterclass",name:"MasterClass",category:"learn",icon:"ðŸŽ­",description:"Learn from world-class experts",connected:!1},{id:"codecademy",name:"Codecademy",category:"learn",icon:"ðŸ’»",description:"Interactive coding lessons",connected:!1},{id:"duolingo",name:"Duolingo",category:"learn",icon:"ðŸ¦‰",description:"Language learning platform",connected:!1},{id:"steam",name:"Steam",category:"entertainment",icon:"ðŸŽ®",description:"PC gaming platform",connected:!1},{id:"epic-games",name:"Epic Games",category:"entertainment",icon:"ðŸŽ¯",description:"Game store and launcher",connected:!1},{id:"twitch",name:"Twitch",category:"entertainment",icon:"ðŸ“º",description:"Live streaming and gaming",connected:!1},{id:"roblox",name:"Roblox",category:"entertainment",icon:"ðŸ§±",description:"User-generated gaming platform",connected:!1},{id:"minecraft",name:"Minecraft",category:"entertainment",icon:"â›ï¸",description:"Creative building game",connected:!1},{id:"discord",name:"Discord",category:"entertainment",icon:"ðŸ’¬",description:"Gaming communication platform",connected:!1}];function u({category:e}){let r=()=>{try{let e=localStorage.getItem("connected_platforms");return e?JSON.parse(e):{}}catch{return{}}},a=r(),i=x.filter(t=>t.category===e).map(e=>({...e,connected:a[e.id]?.connected||!1,apiKey:a[e.id]?.apiKey})),[o,c]=(0,n.useState)(i),[s,l]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),[g,p]=(0,n.useState)(!1),f=(e,t,n)=>{try{let a=r();t?a[e]={connected:!0,apiKey:n}:delete a[e],localStorage.setItem("connected_platforms",JSON.stringify(a))}catch(e){console.error("Error saving connected platforms:",e)}};async function y(e){(await (0,d.getWalletConnect)()).isWalletConnected()?(u(e),l(!0)):alert("Please connect your wallet first!")}async function v(e){c(t=>t.map(t=>t.id===e?{...t,connected:!1,apiKey:void 0}:t)),f(e,!1),alert("Platform disconnected successfully!")}function z(){p(!0)}return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-zinc-900 dark:text-zinc-100",children:"video"===e?"Video Platforms":"audio"===e?"Audio Platforms":"learn"===e?"Learning Platforms":"Entertainment & Games"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-zinc-600 dark:text-zinc-400",children:[o.filter(e=>e.connected).length," of ",o.length," platforms connected"]})]}),(0,t.jsx)("button",{onClick:z,className:"rounded-xl border-2 border-blue-500 bg-white px-5 py-2.5 text-sm font-semibold text-blue-600 shadow-sm transition-all hover:bg-blue-50 hover:shadow-md hover:scale-105 active:scale-95 dark:border-blue-400 dark:bg-zinc-800 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"+ Request New Platform"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:0===o.length?(0,t.jsxs)("div",{className:"col-span-full rounded-lg border border-zinc-200 bg-zinc-50 p-8 text-center dark:border-zinc-800 dark:bg-zinc-800/50",children:[(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"No platforms available in this category yet."}),(0,t.jsx)("button",{onClick:z,className:"mt-4 rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:"Request Platform"})]}):o.map(e=>(0,t.jsxs)("div",{className:`group relative overflow-hidden rounded-2xl border p-6 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${e.connected?"border-green-200 bg-gradient-to-br from-green-50/80 to-white dark:border-green-800 dark:from-green-900/10 dark:to-zinc-900":"border-zinc-200 bg-white dark:border-zinc-800 dark:bg-zinc-900"}`,children:[(0,t.jsxs)("div",{className:"mb-4 flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 text-3xl shadow-sm dark:from-blue-900/20 dark:to-cyan-900/20",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 line-clamp-2",children:e.description})]})]}),(0,t.jsx)("div",{className:"mb-4",children:e.connected?(0,t.jsxs)("div",{className:"rounded-xl border-2 border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 p-3 shadow-sm dark:border-green-800 dark:from-green-900/20 dark:to-emerald-900/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-green-500",children:(0,t.jsx)("span",{className:"text-xs text-white",children:"âœ“"})}),(0,t.jsx)("span",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:"Wallet Connected"})]}),e.apiKey&&(0,t.jsx)("div",{className:"mt-2 rounded-lg bg-white/60 p-2 backdrop-blur-sm dark:bg-zinc-800/60",children:(0,t.jsxs)("div",{className:"text-xs font-mono text-green-700 dark:text-green-300",children:["API: ",e.apiKey.slice(0,12),"..."]})})]}):(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-zinc-50 to-zinc-100/50 p-3 dark:border-zinc-700 dark:from-zinc-800 dark:to-zinc-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 border-zinc-300 dark:border-zinc-600",children:(0,t.jsx)("span",{className:"text-xs text-zinc-400",children:"â—‹"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Not Connected"})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-500",children:"Connect your wallet to start using this platform"})]})}),(0,t.jsx)("div",{className:"flex gap-2",children:e.connected?(0,t.jsx)("button",{onClick:()=>v(e.id),className:"flex-1 rounded-xl border-2 border-red-200 bg-white px-4 py-2.5 text-sm font-semibold text-red-600 transition-all hover:bg-red-50 hover:border-red-300 hover:shadow-md active:scale-95 dark:border-red-800 dark:bg-zinc-800 dark:text-red-400 dark:hover:bg-red-900/20",children:"Disconnect"}):(0,t.jsx)("button",{onClick:()=>y(e),className:"flex-1 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg transition-all hover:from-blue-600 hover:to-cyan-600 hover:shadow-xl hover:scale-105 active:scale-95",children:"Connect Wallet"})})]},e.id))}),s&&m&&(0,t.jsx)(b,{platform:m,onClose:()=>{l(!1),u(null)},onSuccess:e=>{c(t=>t.map(t=>t.id===m.id?{...t,connected:!0,apiKey:e}:t)),f(m.id,!0,e),l(!1),u(null)}}),g&&(0,t.jsx)(h,{onClose:()=>p(!1),onSuccess:()=>{p(!1),alert("Request submitted! We will review and contact you soon.")}})]})}function b({platform:e,onClose:r,onSuccess:a}){let[i,o]=(0,n.useState)(""),[c,s]=(0,n.useState)(!1);async function d(){s(!0);try{let e=`pk_${Math.random().toString(36).substring(2,15)}`;await new Promise(e=>setTimeout(e,1e3)),a(e)}catch(e){alert("Connection failed. Please try again.")}finally{s(!1)}}return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg border border-zinc-200 bg-white p-6 shadow-lg dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100",children:["Connect to ",e.name]}),(0,t.jsx)("button",{onClick:r,className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"API Key (Optional)"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Enter your API key or leave empty for auto-connect",className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 placeholder-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-zinc-600 dark:text-zinc-400",children:"If you have an API key, enter it. Otherwise, we'll generate one for you."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 rounded-lg border border-zinc-300 bg-white px-4 py-2 text-sm font-medium text-zinc-900 transition-colors hover:bg-zinc-50 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:"Cancel"}),(0,t.jsx)("button",{onClick:d,disabled:c,className:"flex-1 rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600 disabled:opacity-50",children:c?"Connecting...":"Connect"})]})]})})}function h({onClose:e,onSuccess:r}){let[a,i]=(0,n.useState)({platformName:"",platformUrl:"",category:"video",description:"",requestType:"introduce",email:""}),[o,c]=(0,n.useState)(!1);async function s(e){e.preventDefault(),c(!0);try{await new Promise(e=>setTimeout(e,1e3)),r()}catch(e){alert("Submission failed. Please try again.")}finally{c(!1)}}return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl rounded-lg border border-zinc-200 bg-white p-6 shadow-lg dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Request Platform Access"}),(0,t.jsx)("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Request Type"}),(0,t.jsxs)("select",{value:a.requestType,onChange:e=>i({...a,requestType:e.target.value}),className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,t.jsx)("option",{value:"introduce",children:"Introduce Our Service to Platform"}),(0,t.jsx)("option",{value:"api",children:"Request API Access"}),(0,t.jsx)("option",{value:"developer",children:"Request Developer Account"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Platform Name"}),(0,t.jsx)("input",{type:"text",value:a.platformName,onChange:e=>i({...a,platformName:e.target.value}),placeholder:"e.g., Netflix, Spotify",required:!0,className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 placeholder-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Platform URL"}),(0,t.jsx)("input",{type:"url",value:a.platformUrl,onChange:e=>i({...a,platformUrl:e.target.value}),placeholder:"https://...",required:!0,className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 placeholder-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Category"}),(0,t.jsxs)("select",{value:a.category,onChange:e=>i({...a,category:e.target.value}),className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,t.jsx)("option",{value:"video",children:"Video"}),(0,t.jsx)("option",{value:"audio",children:"Audio"}),(0,t.jsx)("option",{value:"learn",children:"Learning"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Description"}),(0,t.jsx)("textarea",{value:a.description,onChange:e=>i({...a,description:e.target.value}),placeholder:"Describe the platform and why you want to connect...",rows:3,required:!0,className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 placeholder-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Your Email"}),(0,t.jsx)("input",{type:"email",value:a.email,onChange:e=>i({...a,email:e.target.value}),placeholder:"your@email.com",required:!0,className:"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 text-zinc-900 placeholder-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:e,className:"flex-1 rounded-lg border border-zinc-300 bg-white px-4 py-2 text-sm font-medium text-zinc-900 transition-colors hover:bg-zinc-50 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:o,className:"flex-1 rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600 disabled:opacity-50",children:o?"Submitting...":"Submit Request"})]})]})]})})}function g(){let[e,r]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0);function o(){try{let e=localStorage.getItem("connected_platforms");if(!e){r([]),i(!1);return}let t=JSON.parse(e),n=[{id:"netflix",name:"Netflix",icon:"ðŸŽ¬",category:"video"},{id:"youtube",name:"YouTube",icon:"ðŸ“º",category:"video"},{id:"disney",name:"Disney+",icon:"ðŸ°",category:"video"},{id:"amazon-prime",name:"Amazon Prime Video",icon:"ðŸ“¦",category:"video"},{id:"hulu",name:"Hulu",icon:"ðŸ“º",category:"video"},{id:"spotify",name:"Spotify",icon:"ðŸŽµ",category:"audio"},{id:"audible",name:"Audible",icon:"ðŸŽ§",category:"audio"},{id:"apple-music",name:"Apple Music",icon:"ðŸŽ",category:"audio"},{id:"soundcloud",name:"SoundCloud",icon:"â˜ï¸",category:"audio"},{id:"pandora",name:"Pandora",icon:"ðŸ“»",category:"audio"},{id:"podcast-addict",name:"Podcast Addict",icon:"ðŸŽ™ï¸",category:"audio"},{id:"stitcher",name:"Stitcher",icon:"ðŸŽ§",category:"audio"},{id:"tidal",name:"Tidal",icon:"ðŸŒŠ",category:"audio"},{id:"deezer",name:"Deezer",icon:"ðŸŽµ",category:"audio"},{id:"youtube-music",name:"YouTube Music",icon:"ðŸŽ¶",category:"audio"},{id:"coursera",name:"Coursera",icon:"ðŸ“š",category:"learn"},{id:"udemy",name:"Udemy",icon:"ðŸŽ“",category:"learn"},{id:"khan-academy",name:"Khan Academy",icon:"ðŸŽ¯",category:"learn"},{id:"edx",name:"edX",icon:"ðŸ“–",category:"learn"},{id:"skillshare",name:"Skillshare",icon:"âœï¸",category:"learn"},{id:"pluralsight",name:"Pluralsight",icon:"ðŸ’»",category:"learn"},{id:"linkedin-learning",name:"LinkedIn Learning",icon:"ðŸ’¼",category:"learn"},{id:"masterclass",name:"MasterClass",icon:"ðŸŽ­",category:"learn"},{id:"codecademy",name:"Codecademy",icon:"ðŸ’»",category:"learn"},{id:"duolingo",name:"Duolingo",icon:"ðŸ¦‰",category:"learn"},{id:"steam",name:"Steam",icon:"ðŸŽ®",category:"entertainment"},{id:"epic-games",name:"Epic Games",icon:"ðŸŽ¯",category:"entertainment"},{id:"twitch",name:"Twitch",icon:"ðŸ“º",category:"entertainment"},{id:"roblox",name:"Roblox",icon:"ðŸ§±",category:"entertainment"},{id:"minecraft",name:"Minecraft",icon:"â›ï¸",category:"entertainment"},{id:"discord",name:"Discord",icon:"ðŸ’¬",category:"entertainment"}],a=[];for(let[e,r]of Object.entries(t))if(r.connected){let t=n.find(t=>t.id===e);t&&a.push({platformId:e,platformName:t.name,platformIcon:t.icon,category:t.category,connectedAt:r.connectedAt||new Date().toISOString(),apiKey:r.apiKey})}r(a)}catch(e){console.error("Error loading connected wallets:",e),r([])}finally{i(!1)}}(0,n.useEffect)(()=>{o()},[]);let c={video:"Video",audio:"Audio",learn:"Learning",entertainment:"Entertainment"};return a?(0,t.jsx)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6 dark:border-zinc-800 dark:bg-zinc-900",children:(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Loading..."})}):0===e.length?(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsx)("h3",{className:"mb-2 text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Connected Wallets"}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"No platforms connected yet. Connect your wallet to platforms to get started."})]}):(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:["Connected Wallets (",e.length,")"]}),(0,t.jsx)("button",{onClick:o,className:"rounded-lg px-3 py-1 text-xs font-medium text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Refresh"})]}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-green-200 bg-green-50/50 p-3 dark:border-green-800 dark:bg-green-900/10",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-gradient-to-br from-green-100 to-emerald-100 text-xl dark:from-green-900/30 dark:to-emerald-900/30",children:e.platformIcon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:e.platformName}),(0,t.jsx)("span",{className:"rounded-full bg-green-500 px-2 py-0.5 text-xs font-medium text-white",children:c[e.category]})]}),(0,t.jsxs)("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:["Connected ",new Date(e.connectedAt).toLocaleDateString()]})]}),(0,t.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-green-500",children:(0,t.jsx)("span",{className:"text-xs text-white",children:"âœ“"})})]},e.platformId))})]})}var p=e.i(39150),f=e.i(61664);let y=[{id:"1",title:"Sample Video Content",type:"video",pricePerMinute:.02,description:"Watch this sample video content"},{id:"2",title:"Sample Audio Content",type:"audio",pricePerMinute:.015,description:"Listen to this sample audio content"},{id:"3",title:"Sample Learning Content",type:"learn",pricePerMinute:.025,description:"Learn from this sample content"}];function v(){let[e,a]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),[x,b]=(0,n.useState)("watch");return(0,n.useEffect)(()=>{(0,d.initSDK)({network:f.appConfig.network,apiUrl:f.appConfig.apiUrl,apiKey:f.appConfig.apiKey,providerAddr:f.appConfig.providerAddr,platformAddr:f.appConfig.platformAddr,platformFeePct:f.appConfig.platformFeePct,asaId:f.appConfig.asaId,appId:f.appConfig.appId}).then(()=>{a(!0)}),b(new URLSearchParams(window.location.search).get("tab")||"watch")},[]),(0,n.useEffect)(()=>{let e=()=>{b(new URLSearchParams(window.location.search).get("tab")||"watch")};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-purple-50 dark:from-zinc-900 dark:via-zinc-800 dark:to-zinc-900",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-8",children:[(0,t.jsxs)("header",{className:"mb-6 sm:mb-8",children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 text-2xl sm:text-3xl shadow-lg",children:"ðŸ’°"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Play and Pay"}),(0,t.jsx)("p",{className:"text-sm sm:text-base lg:text-lg text-zinc-600 dark:text-zinc-400 mt-1",children:"Pay-as-you-watch micro-payments for digital content"})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,t.jsx)(i.default,{href:"/analytics",className:"px-4 py-2 rounded-xl text-sm font-semibold text-zinc-700 dark:text-zinc-300 bg-white/80 dark:bg-zinc-800/80 backdrop-blur-sm border border-zinc-200 dark:border-zinc-700 hover:bg-white dark:hover:bg-zinc-800 transition-all hover:shadow-md",children:"Analytics"}),(0,t.jsx)(i.default,{href:"/settings",className:"px-4 py-2 rounded-xl text-sm font-semibold text-zinc-700 dark:text-zinc-300 bg-white/80 dark:bg-zinc-800/80 backdrop-blur-sm border border-zinc-200 dark:border-zinc-700 hover:bg-white dark:hover:bg-zinc-800 transition-all hover:shadow-md",children:"Settings"})]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(r.default,{onConnect:e=>c(e),onDisconnect:()=>c(null)})})]}),(0,t.jsx)(s,{}),(0,t.jsx)("div",{className:"my-6",children:(0,t.jsx)(m,{onSearch:e=>{console.log("Search:",e)}})}),(0,t.jsxs)("div",{className:"mb-8",children:["watch"===x&&(0,t.jsx)(u,{category:"video"}),"listen"===x&&(0,t.jsx)(u,{category:"audio"}),"learn"===x&&(0,t.jsx)(u,{category:"learn"}),"entertainment"===x&&(0,t.jsx)(u,{category:"entertainment"}),"wallet"===x&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mb-4 text-2xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Wallet Management"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Manage your wallet connections and view your balance."}),(0,t.jsx)(i.default,{href:"/wallet",className:"mt-4 inline-block rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-3 font-semibold text-white shadow-lg transition-all hover:from-blue-600 hover:to-cyan-600 hover:shadow-xl hover:scale-105 active:scale-95",children:"Go to Wallet"})]}),(0,t.jsx)(g,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-4 text-xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Media Consumption History"}),(0,t.jsx)(p.default,{})]})]})]}),o&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"mb-4 text-2xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Featured Content"}),(0,t.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:y.filter(e=>"watch"===x?"video"===e.type:"listen"===x?"audio"===e.type:"learn"!==x||"learn"===e.type).map(e=>(0,t.jsxs)("div",{className:"min-w-[200px] rounded-lg border border-zinc-200 bg-white shadow-sm transition-shadow hover:shadow-md dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsx)("div",{className:"aspect-video w-full rounded-t-lg bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-4xl",children:"video"===e.type?"ðŸ“º":"audio"===e.type?"ðŸŽµ":"ðŸ“š"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",children:e.type}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:["â‚¬",e.pricePerMinute.toFixed(2),"/min"]})]}),(0,t.jsx)("h3",{className:"mb-2 font-semibold text-zinc-900 dark:text-zinc-100",children:e.title}),(0,t.jsx)(i.default,{href:`/player?contentId=${e.id}&title=${encodeURIComponent(e.title)}&price=${e.pricePerMinute}`,className:"block w-full rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-medium text-white transition-colors hover:bg-blue-600",children:"Start Now"})]})]},e.id))})]}),!o&&(0,t.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-900/20",children:(0,t.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Please connect your Pera Wallet to start watching content."})})]}),(0,t.jsx)(l,{})]})}e.s(["default",()=>v],31713)}]);