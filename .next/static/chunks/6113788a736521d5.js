(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50383,e=>{"use strict";var t=e.i(43476),i=e.i(18566),n=e.i(71645),s=e.i(74959),a=e.i(61664),r=e.i(22016);function c({sessionId:e,totalCharge:i,duration:c,contentTitle:d}){let l,o,[x,g]=(0,n.useState)("0"),[m,h]=(0,n.useState)(!1),[u,b]=(0,n.useState)(null);async function f(){try{let t=await (0,s.getBilling)(),i=await t.getSession(e);b(i)}catch(e){console.error("Error loading session details:",e)}}async function z(){let e=(await (0,s.getWalletConnect)()).getConnectedAddress();if(e)try{let t=await (0,s.getWallet)(),i=await t.getBalance(e,a.appConfig.asaId);g(i.formatted||"0")}catch(e){console.error("Error updating balance:",e)}}return(0,n.useEffect)(()=>{f(),z()},[e]),(0,t.jsxs)("div",{className:"flex flex-col gap-6 rounded-lg border border-zinc-200 bg-white p-6 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Session Complete"}),(0,t.jsx)("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400",children:d})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20",children:[(0,t.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Duration"}),(0,t.jsx)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:(l=Math.floor(c/60),o=c%60,`${l} minute${1!==l?"s":""} ${o} second${1!==o?"s":""}`)})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-green-50 p-4 dark:bg-green-900/20",children:[(0,t.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Total Charge"}),(0,t.jsxs)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:["â‚¬",i.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-purple-50 p-4 dark:bg-purple-900/20",children:[(0,t.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Remaining Balance"}),(0,t.jsxs)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:[x," PLY"]})]})]}),u&&(0,t.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsx)("h3",{className:"mb-2 font-semibold text-zinc-900 dark:text-zinc-100",children:"Session Details"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,t.jsxs)("div",{children:["Session ID: ",e.slice(0,8),"..."]}),(0,t.jsxs)("div",{children:["Started: ",new Date(u.startTime).toLocaleString()]}),u.endTime&&(0,t.jsxs)("div",{children:["Ended: ",new Date(u.endTime).toLocaleString()]}),(0,t.jsxs)("div",{children:["Total Ticks: ",u.tickCount||0]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[(0,t.jsx)(r.default,{href:"/",className:"flex-1 rounded-lg bg-zinc-200 px-6 py-3 text-center font-medium text-zinc-900 transition-colors hover:bg-zinc-300 dark:bg-zinc-800 dark:text-zinc-100 dark:hover:bg-zinc-700",children:"Back to Home"}),(0,t.jsx)("button",{onClick:()=>{alert("Add Credit functionality coming soon!")},className:"flex-1 rounded-lg bg-blue-500 px-6 py-3 font-medium text-white transition-colors hover:bg-blue-600",children:"Add Credit"})]})]})}function d(){let e=(0,i.useSearchParams)(),n=e.get("sessionId")||"",s=parseFloat(e.get("charge")||"0"),a=parseInt(e.get("duration")||"0"),r=e.get("title")||"Content";return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-zinc-900 dark:to-zinc-800",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)(c,{sessionId:n,totalCharge:s,duration:a,contentTitle:r})})})}function l(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:(0,t.jsx)(d,{})})}e.s(["default",()=>l],50383)}]);