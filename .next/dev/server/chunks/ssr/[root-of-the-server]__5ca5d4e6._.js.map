{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/lib/sdk.ts"],"sourcesContent":["/**\r\n * Play and Pay SDK Integration\r\n * Frontend wrapper for the SDK\r\n */\r\n\r\n// Import SDK modules\r\n// Using dynamic import for ES modules compatibility\r\nlet sdk: any = null;\r\n\r\nasync function loadSDK() {\r\n  if (!sdk) {\r\n    sdk = await import('../playandpay-sdk/src/index.js');\r\n  }\r\n  return sdk;\r\n}\r\n\r\nexport interface SDKConfig {\r\n  network?: 'testnet' | 'mainnet';\r\n  apiUrl?: string;\r\n  apiKey?: string;\r\n  providerAddr?: string;\r\n  platformAddr?: string;\r\n  platformFeePct?: number;\r\n  asaId?: number;\r\n  appId?: number;\r\n}\r\n\r\n/**\r\n * Initialize SDK\r\n */\r\nexport async function initSDK(config?: SDKConfig) {\r\n  try {\r\n    const sdkModule = await loadSDK();\r\n    const initConfig: any = {\r\n      network: config?.network || 'testnet',\r\n    };\r\n    \r\n    if (config?.apiUrl) initConfig.apiUrl = config.apiUrl;\r\n    if (config?.apiKey) initConfig.apiKey = config.apiKey;\r\n    if (config?.providerAddr) initConfig.providerAddr = config.providerAddr;\r\n    if (config?.platformAddr) initConfig.platformAddr = config.platformAddr;\r\n    if (config?.platformFeePct) initConfig.platformFeePct = config.platformFeePct;\r\n    if (config?.asaId) initConfig.asaId = config.asaId;\r\n    if (config?.appId) initConfig.appId = config.appId;\r\n    \r\n    await sdkModule.init(initConfig);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('SDK initialization error:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Get SDK modules (lazy loaded)\r\n */\r\nexport async function getWallet() {\r\n  const sdkModule = await loadSDK();\r\n  return sdkModule.wallet;\r\n}\r\n\r\nexport async function getBilling() {\r\n  const sdkModule = await loadSDK();\r\n  return sdkModule.billing;\r\n}\r\n\r\nexport async function getAnalytics() {\r\n  const sdkModule = await loadSDK();\r\n  return sdkModule.analytics;\r\n}\r\n\r\nexport async function getWalletConnect() {\r\n  const sdkModule = await loadSDK();\r\n  return sdkModule.walletConnect;\r\n}\r\n\r\n// For backward compatibility, export as getters\r\nexport const wallet = new Proxy({} as any, {\r\n  get: (target, prop) => {\r\n    return async (...args: any[]) => {\r\n      const w = await getWallet();\r\n      return (w as any)[prop](...args);\r\n    };\r\n  },\r\n});\r\n\r\nexport const billing = new Proxy({} as any, {\r\n  get: (target, prop) => {\r\n    return async (...args: any[]) => {\r\n      const b = await getBilling();\r\n      return (b as any)[prop](...args);\r\n    };\r\n  },\r\n});\r\n\r\nexport const analytics = new Proxy({} as any, {\r\n  get: (target, prop) => {\r\n    return async (...args: any[]) => {\r\n      const a = await getAnalytics();\r\n      return (a as any)[prop](...args);\r\n    };\r\n  },\r\n});\r\n\r\nexport const walletConnect = new Proxy({} as any, {\r\n  get: (target, prop) => {\r\n    return async (...args: any[]) => {\r\n      const wc = await getWalletConnect();\r\n      return (wc as any)[prop](...args);\r\n    };\r\n  },\r\n});\r\n\r\nexport default loadSDK;\r\n\r\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,qBAAqB;AACrB,oDAAoD;;;;;;;;;;;;;;;;;;;;;;;AACpD,IAAI,MAAW;AAEf,eAAe;IACb,IAAI,CAAC,KAAK;QACR,MAAM;IACR;IACA,OAAO;AACT;AAgBO,eAAe,QAAQ,MAAkB;IAC9C,IAAI;QACF,MAAM,YAAY,MAAM;QACxB,MAAM,aAAkB;YACtB,SAAS,QAAQ,WAAW;QAC9B;QAEA,IAAI,QAAQ,QAAQ,WAAW,MAAM,GAAG,OAAO,MAAM;QACrD,IAAI,QAAQ,QAAQ,WAAW,MAAM,GAAG,OAAO,MAAM;QACrD,IAAI,QAAQ,cAAc,WAAW,YAAY,GAAG,OAAO,YAAY;QACvE,IAAI,QAAQ,cAAc,WAAW,YAAY,GAAG,OAAO,YAAY;QACvE,IAAI,QAAQ,gBAAgB,WAAW,cAAc,GAAG,OAAO,cAAc;QAC7E,IAAI,QAAQ,OAAO,WAAW,KAAK,GAAG,OAAO,KAAK;QAClD,IAAI,QAAQ,OAAO,WAAW,KAAK,GAAG,OAAO,KAAK;QAElD,MAAM,UAAU,IAAI,CAAC;QACrB,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO;IACT;AACF;AAKO,eAAe;IACpB,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,MAAM;AACzB;AAEO,eAAe;IACpB,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,OAAO;AAC1B;AAEO,eAAe;IACpB,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,SAAS;AAC5B;AAEO,eAAe;IACpB,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,aAAa;AAChC;AAGO,MAAM,SAAS,IAAI,MAAM,CAAC,GAAU;IACzC,KAAK,CAAC,QAAQ;QACZ,OAAO,OAAO,GAAG;YACf,MAAM,IAAI,MAAM;YAChB,OAAO,AAAC,CAAS,CAAC,KAAK,IAAI;QAC7B;IACF;AACF;AAEO,MAAM,UAAU,IAAI,MAAM,CAAC,GAAU;IAC1C,KAAK,CAAC,QAAQ;QACZ,OAAO,OAAO,GAAG;YACf,MAAM,IAAI,MAAM;YAChB,OAAO,AAAC,CAAS,CAAC,KAAK,IAAI;QAC7B;IACF;AACF;AAEO,MAAM,YAAY,IAAI,MAAM,CAAC,GAAU;IAC5C,KAAK,CAAC,QAAQ;QACZ,OAAO,OAAO,GAAG;YACf,MAAM,IAAI,MAAM;YAChB,OAAO,AAAC,CAAS,CAAC,KAAK,IAAI;QAC7B;IACF;AACF;AAEO,MAAM,gBAAgB,IAAI,MAAM,CAAC,GAAU;IAChD,KAAK,CAAC,QAAQ;QACZ,OAAO,OAAO,GAAG;YACf,MAAM,KAAK,MAAM;YACjB,OAAO,AAAC,EAAU,CAAC,KAAK,IAAI;QAC9B;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/lib/config.ts"],"sourcesContent":["/**\r\n * Frontend Configuration\r\n * Play and Pay POC\r\n */\r\n\r\nexport const appConfig = {\r\n  // Algorand Network\r\n  network: (process.env.NEXT_PUBLIC_ALGORAND_NETWORK || 'testnet') as 'testnet' | 'mainnet',\r\n  \r\n  // API Configuration\r\n  apiUrl: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api',\r\n  apiKey: process.env.NEXT_PUBLIC_API_KEY,\r\n  \r\n  // Algorand Configuration\r\n  providerAddr: process.env.NEXT_PUBLIC_PROVIDER_ADDR,\r\n  platformAddr: process.env.NEXT_PUBLIC_PLATFORM_ADDR,\r\n  platformFeePct: parseInt(process.env.NEXT_PUBLIC_PLATFORM_FEE_PCT || '500'), // 5%\r\n  \r\n  // Contract IDs (will be set after deployment)\r\n  asaId: process.env.NEXT_PUBLIC_ASA_ID ? parseInt(process.env.NEXT_PUBLIC_ASA_ID) : undefined,\r\n  appId: process.env.NEXT_PUBLIC_APP_ID ? parseInt(process.env.NEXT_PUBLIC_APP_ID) : undefined,\r\n  \r\n  // Demo Mode\r\n  demoMode: process.env.NEXT_PUBLIC_DEMO_MODE === 'true',\r\n};\r\n\r\nexport default appConfig;\r\n\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AAEM,MAAM,YAAY;IACvB,mBAAmB;IACnB,SAAU,QAAQ,GAAG,CAAC,4BAA4B,IAAI;IAEtD,oBAAoB;IACpB,QAAQ,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC3C,QAAQ,QAAQ,GAAG,CAAC,mBAAmB;IAEvC,yBAAyB;IACzB,cAAc,QAAQ,GAAG,CAAC,yBAAyB;IACnD,cAAc,QAAQ,GAAG,CAAC,yBAAyB;IACnD,gBAAgB,SAAS,QAAQ,GAAG,CAAC,4BAA4B,IAAI;IAErE,8CAA8C;IAC9C,OAAO,QAAQ,GAAG,CAAC,kBAAkB,GAAG,SAAS,QAAQ,GAAG,CAAC,kBAAkB,IAAI;IACnF,OAAO,QAAQ,GAAG,CAAC,kBAAkB,GAAG,SAAS,QAAQ,GAAG,CAAC,kBAAkB,IAAI;IAEnF,YAAY;IACZ,UAAU,QAAQ,GAAG,CAAC,qBAAqB,KAAK;AAClD;uCAEe","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/components/WalletConnect.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { getWalletConnect, getWallet } from '@/lib/sdk';\r\nimport { appConfig } from '@/lib/config';\r\n\r\ninterface WalletConnectProps {\r\n  onConnect?: (address: string) => void;\r\n  onDisconnect?: () => void;\r\n}\r\n\r\nexport default function WalletConnect({ onConnect, onDisconnect }: WalletConnectProps) {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [address, setAddress] = useState<string | null>(null);\r\n  const [balance, setBalance] = useState<string>('0');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Check connection on mount\r\n  useEffect(() => {\r\n    checkConnection();\r\n  }, []);\r\n\r\n  // Update balance when connected\r\n  useEffect(() => {\r\n    if (isConnected && address) {\r\n      updateBalance();\r\n      const interval = setInterval(updateBalance, 10000); // Update every 10s\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isConnected, address]);\r\n\r\n  async function checkConnection() {\r\n    try {\r\n      const wc = await getWalletConnect();\r\n      const connected = wc.isWalletConnected();\r\n      if (connected) {\r\n        const addr = wc.getConnectedAddress();\r\n        if (addr) {\r\n          setIsConnected(true);\r\n          setAddress(addr);\r\n          onConnect?.(addr);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Connection check error:', err);\r\n    }\r\n  }\r\n\r\n  async function updateBalance() {\r\n    if (!address) return;\r\n    \r\n    try {\r\n      const w = await getWallet();\r\n      const bal = await w.getBalance(address, appConfig.asaId);\r\n      setBalance(bal.formatted || '0');\r\n    } catch (err) {\r\n      console.error('Balance update error:', err);\r\n    }\r\n  }\r\n\r\n  async function handleConnect() {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const wc = await getWalletConnect();\r\n      // Initialize Pera Wallet\r\n      await wc.initPeraWallet();\r\n      \r\n      // Connect wallet\r\n      const addr = await wc.connectWallet();\r\n      \r\n      if (addr) {\r\n        setIsConnected(true);\r\n        setAddress(addr);\r\n        await updateBalance();\r\n        onConnect?.(addr);\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to connect wallet');\r\n      console.error('Wallet connection error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleDisconnect() {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const wc = await getWalletConnect();\r\n      await wc.disconnectWallet();\r\n      setIsConnected(false);\r\n      setAddress(null);\r\n      setBalance('0');\r\n      onDisconnect?.();\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to disconnect wallet');\r\n      console.error('Wallet disconnection error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4\">\r\n      {error && (\r\n        <div className=\"rounded-lg bg-red-50 p-3 text-sm text-red-600 dark:bg-red-900/20 dark:text-red-400\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {isConnected && address ? (\r\n        <div className=\"flex flex-col gap-2 rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-800 dark:bg-zinc-900\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm text-zinc-600 dark:text-zinc-400\">Connected</span>\r\n              <span className=\"font-mono text-sm text-zinc-900 dark:text-zinc-100\">\r\n                {address.slice(0, 6)}...{address.slice(-4)}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex flex-col items-end\">\r\n              <span className=\"text-sm text-zinc-600 dark:text-zinc-400\">Balance</span>\r\n              <span className=\"font-semibold text-zinc-900 dark:text-zinc-100\">\r\n                {balance} PLY\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={handleDisconnect}\r\n            disabled={loading}\r\n            className=\"mt-2 rounded-lg bg-red-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-600 disabled:opacity-50\"\r\n          >\r\n            {loading ? 'Disconnecting...' : 'Disconnect'}\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <button\r\n          onClick={handleConnect}\r\n          disabled={loading}\r\n          className=\"rounded-lg bg-blue-500 px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-blue-600 disabled:opacity-50\"\r\n        >\r\n          {loading ? 'Connecting...' : 'Connect Pera Wallet'}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/components/NavigationTabs.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nconst tabs = [\r\n  { id: 'watch', label: 'Watch', icon: 'üì∫', href: '/' },\r\n  { id: 'listen', label: 'Listen', icon: 'üéµ', href: '/?tab=listen' },\r\n  { id: 'learn', label: 'Learn', icon: 'üìö', href: '/?tab=learn' },\r\n  { id: 'wallet', label: 'Wallet', icon: 'üí∞', href: '/wallet' },\r\n];\r\n\r\nexport default function NavigationTabs() {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  const isActive = (href: string) => {\r\n    if (href === '/') {\r\n      return pathname === '/';\r\n    }\r\n    return pathname.startsWith(href);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1 border-b border-zinc-200 dark:border-zinc-800\">\r\n      {tabs.map((tab) => {\r\n        const active = isActive(tab.href);\r\n        return (\r\n          <Link\r\n            key={tab.id}\r\n            href={tab.href}\r\n            className={`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${\r\n              active\r\n                ? 'border-b-2 border-blue-500 text-blue-600 dark:text-blue-400'\r\n                : 'text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100'\r\n            }`}\r\n          >\r\n            <span>{tab.icon}</span>\r\n            <span>{tab.label}</span>\r\n          </Link>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,OAAO;IACX;QAAE,IAAI;QAAS,OAAO;QAAS,MAAM;QAAM,MAAM;IAAI;IACrD;QAAE,IAAI;QAAU,OAAO;QAAU,MAAM;QAAM,MAAM;IAAe;IAClE;QAAE,IAAI;QAAS,OAAO;QAAS,MAAM;QAAM,MAAM;IAAc;IAC/D;QAAE,IAAI;QAAU,OAAO;QAAU,MAAM;QAAM,MAAM;IAAU;CAC9D;AAEc,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,WAAW,CAAC;QAChB,IAAI,SAAS,KAAK;YAChB,OAAO,aAAa;QACtB;QACA,OAAO,SAAS,UAAU,CAAC;IAC7B;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC;YACT,MAAM,SAAS,SAAS,IAAI,IAAI;YAChC,qBACE,8OAAC,uKAAI;gBAEH,MAAM,IAAI,IAAI;gBACd,WAAW,CAAC,wEAAwE,EAClF,SACI,gEACA,iFACJ;;kCAEF,8OAAC;kCAAM,IAAI,IAAI;;;;;;kCACf,8OAAC;kCAAM,IAAI,KAAK;;;;;;;eATX,IAAI,EAAE;;;;;QAYjB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/components/CurrentlyWatching.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { getBilling, getWalletConnect } from '@/lib/sdk';\r\n\r\nexport default function CurrentlyWatching() {\r\n  const [activeSession, setActiveSession] = useState<any>(null);\r\n  const [duration, setDuration] = useState(0);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    checkActiveSession();\r\n    const interval = setInterval(checkActiveSession, 5000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeSession) {\r\n      const interval = setInterval(() => {\r\n        setDuration((prev) => prev + 1);\r\n      }, 1000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [activeSession]);\r\n\r\n  async function checkActiveSession() {\r\n    try {\r\n      const wc = await getWalletConnect();\r\n      const address = wc.getConnectedAddress();\r\n      if (!address) return;\r\n\r\n      const billing = await getBilling();\r\n      const sessions = await billing.getSessionHistory({ userId: address });\r\n      const active = sessions.find((s: any) => s.status === 'active');\r\n\r\n      if (active) {\r\n        setActiveSession(active);\r\n        const startTime = new Date(active.startTime).getTime();\r\n        const now = Date.now();\r\n        setDuration(Math.floor((now - startTime) / 1000));\r\n      } else {\r\n        setActiveSession(null);\r\n        setDuration(0);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error checking active session:', err);\r\n    }\r\n  }\r\n\r\n  if (!activeSession) return null;\r\n\r\n  function formatTime(seconds: number): string {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 z-50 border-t border-zinc-200 bg-white shadow-lg dark:border-zinc-800 dark:bg-zinc-900\">\r\n      <div className=\"container mx-auto px-4 py-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-16 w-12 rounded bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center\">\r\n              üì∫\r\n            </div>\r\n            <div>\r\n              <div className=\"font-medium text-zinc-900 dark:text-zinc-100\">\r\n                {activeSession.contentTitle || 'Currently Watching'}\r\n              </div>\r\n              <div className=\"text-sm text-zinc-600 dark:text-zinc-400\">\r\n                {formatTime(duration)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={() => router.push(`/player?contentId=${activeSession.contentId}`)}\r\n            className=\"rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600\"\r\n          >\r\n            Resume\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAM;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR;QACA,MAAM,WAAW,YAAY,oBAAoB;QACjD,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,eAAe;YACjB,MAAM,WAAW,YAAY;gBAC3B,YAAY,CAAC,OAAS,OAAO;YAC/B,GAAG;YACH,OAAO,IAAM,cAAc;QAC7B;IACF,GAAG;QAAC;KAAc;IAElB,eAAe;QACb,IAAI;YACF,MAAM,KAAK,MAAM,IAAA,8HAAgB;YACjC,MAAM,UAAU,GAAG,mBAAmB;YACtC,IAAI,CAAC,SAAS;YAEd,MAAM,UAAU,MAAM,IAAA,wHAAU;YAChC,MAAM,WAAW,MAAM,QAAQ,iBAAiB,CAAC;gBAAE,QAAQ;YAAQ;YACnE,MAAM,SAAS,SAAS,IAAI,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK;YAEtD,IAAI,QAAQ;gBACV,iBAAiB;gBACjB,MAAM,YAAY,IAAI,KAAK,OAAO,SAAS,EAAE,OAAO;gBACpD,MAAM,MAAM,KAAK,GAAG;gBACpB,YAAY,KAAK,KAAK,CAAC,CAAC,MAAM,SAAS,IAAI;YAC7C,OAAO;gBACL,iBAAiB;gBACjB,YAAY;YACd;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,IAAI,CAAC,eAAe,OAAO;IAE3B,SAAS,WAAW,OAAe;QACjC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;QAClC,MAAM,OAAO,UAAU;QACvB,OAAO,GAAG,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAClF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAkF;;;;;;0CAGjG,8OAAC;;kDACC,8OAAC;wCAAI,WAAU;kDACZ,cAAc,YAAY,IAAI;;;;;;kDAEjC,8OAAC;wCAAI,WAAU;kDACZ,WAAW;;;;;;;;;;;;;;;;;;kCAIlB,8OAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,kBAAkB,EAAE,cAAc,SAAS,EAAE;wBACzE,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/components/SearchBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface SearchBarProps {\r\n  onSearch?: (query: string) => void;\r\n  placeholder?: string;\r\n}\r\n\r\nexport default function SearchBar({ onSearch, placeholder = 'Search content...' }: SearchBarProps) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    onSearch?.(query);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"w-full\">\r\n      <div className=\"relative\">\r\n        <input\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          placeholder={placeholder}\r\n          className=\"w-full rounded-lg border border-zinc-300 bg-white px-4 py-2 pl-10 pr-4 text-zinc-900 placeholder-zinc-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100 dark:placeholder-zinc-400\"\r\n        />\r\n        <div className=\"absolute left-3 top-1/2 -translate-y-1/2\">\r\n          <span className=\"text-zinc-400\">üîç</span>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,UAAU,EAAE,QAAQ,EAAE,cAAc,mBAAmB,EAAkB;IAC/F,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,SAAS,aAAa,CAAkB;QACtC,EAAE,cAAc;QAChB,WAAW;IACb;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;kBACtC,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,aAAa;oBACb,WAAU;;;;;;8BAEZ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;kCAAgB;;;;;;;;;;;;;;;;;;;;;;AAK1C","debugId":null}},
    {"offset": {"line": 667, "column": 0}, "map": {"version":3,"sources":["file:///C:/Amir/pay-as-play-project/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport WalletConnect from '@/components/WalletConnect';\nimport NavigationTabs from '@/components/NavigationTabs';\nimport CurrentlyWatching from '@/components/CurrentlyWatching';\nimport SearchBar from '@/components/SearchBar';\nimport PlatformList from '@/components/PlatformList';\nimport Link from 'next/link';\nimport { initSDK } from '@/lib/sdk';\nimport { appConfig } from '@/lib/config';\n\n// Sample content data\nconst sampleContent = [\n  {\n    id: '1',\n    title: 'Sample Video Content',\n    type: 'video',\n    pricePerMinute: 0.02,\n    description: 'Watch this sample video content',\n  },\n  {\n    id: '2',\n    title: 'Sample Audio Content',\n    type: 'audio',\n    pricePerMinute: 0.015,\n    description: 'Listen to this sample audio content',\n  },\n  {\n    id: '3',\n    title: 'Sample Learning Content',\n    type: 'learn',\n    pricePerMinute: 0.025,\n    description: 'Learn from this sample content',\n  },\n];\n\nexport default function Home() {\n  const [sdkInitialized, setSdkInitialized] = useState(false);\n  const [walletAddress, setWalletAddress] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<'watch' | 'listen' | 'learn' | 'wallet'>('watch');\n\n  useEffect(() => {\n    // Initialize SDK\n    initSDK({\n      network: appConfig.network,\n      apiUrl: appConfig.apiUrl,\n      apiKey: appConfig.apiKey,\n      providerAddr: appConfig.providerAddr,\n      platformAddr: appConfig.platformAddr,\n      platformFeePct: appConfig.platformFeePct,\n      asaId: appConfig.asaId,\n      appId: appConfig.appId,\n    }).then(() => {\n      setSdkInitialized(true);\n    });\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-zinc-900 dark:to-zinc-800\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <header className=\"mb-6\">\n          <div className=\"mb-4 flex items-center justify-between\">\n            <div>\n              <h1 className=\"mb-2 text-4xl font-bold text-zinc-900 dark:text-zinc-100\">\n                Play and Pay\n              </h1>\n              <p className=\"text-lg text-zinc-600 dark:text-zinc-400\">\n                Pay-as-you-watch micro-payments for digital content\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href=\"/analytics\"\n                className=\"text-sm text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100\"\n              >\n                Analytics\n              </Link>\n              <Link\n                href=\"/settings\"\n                className=\"text-sm text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100\"\n              >\n                Settings\n              </Link>\n            </div>\n          </div>\n          \n          {/* Wallet Connection */}\n          <div className=\"mb-4\">\n            <WalletConnect\n              onConnect={(address) => setWalletAddress(address)}\n              onDisconnect={() => setWalletAddress(null)}\n            />\n          </div>\n        </header>\n\n        {/* Navigation Tabs */}\n        <NavigationTabs />\n\n        {/* Search Bar */}\n        <div className=\"my-6\">\n          <SearchBar\n            onSearch={(query) => {\n              console.log('Search:', query);\n              // TODO: Implement search functionality\n            }}\n          />\n        </div>\n\n        {/* Content Selection */}\n        {walletAddress && (\n          <div className=\"mb-8\">\n            <h2 className=\"mb-4 text-xl font-semibold text-zinc-900 dark:text-zinc-100\">\n              Available Content\n            </h2>\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\n              {sampleContent.map((content) => (\n                <div\n                  key={content.id}\n                  className=\"rounded-lg border border-zinc-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md dark:border-zinc-800 dark:bg-zinc-900\"\n                >\n                  <div className=\"mb-2 flex items-center justify-between\">\n                    <span className=\"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/20 dark:text-blue-300\">\n                      {content.type}\n                    </span>\n                    <span className=\"text-sm font-semibold text-zinc-900 dark:text-zinc-100\">\n                      ‚Ç¨{content.pricePerMinute.toFixed(2)}/min\n                    </span>\n                  </div>\n                  <h3 className=\"mb-2 text-lg font-semibold text-zinc-900 dark:text-zinc-100\">\n                    {content.title}\n                  </h3>\n                  <p className=\"mb-4 text-sm text-zinc-600 dark:text-zinc-400\">\n                    {content.description}\n                  </p>\n                  <Link\n                    href={`/player?contentId=${content.id}&title=${encodeURIComponent(content.title)}&price=${content.pricePerMinute}`}\n                    className=\"block w-full rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-medium text-white transition-colors hover:bg-blue-600\"\n                  >\n                    Start Now\n                  </Link>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Featured Content Section */}\n        {walletAddress && (\n          <div className=\"mb-8\">\n            <h2 className=\"mb-4 text-2xl font-semibold text-zinc-900 dark:text-zinc-100\">\n              Featured Content\n            </h2>\n            <div className=\"flex gap-4 overflow-x-auto pb-4\">\n              {sampleContent.map((content) => (\n                <div\n                  key={content.id}\n                  className=\"min-w-[200px] rounded-lg border border-zinc-200 bg-white shadow-sm transition-shadow hover:shadow-md dark:border-zinc-800 dark:bg-zinc-900\"\n                >\n                  <div className=\"aspect-video w-full rounded-t-lg bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center\">\n                    <span className=\"text-4xl\">{content.type === 'video' ? 'üì∫' : content.type === 'audio' ? 'üéµ' : 'üìö'}</span>\n                  </div>\n                  <div className=\"p-4\">\n                    <div className=\"mb-2 flex items-center justify-between\">\n                      <span className=\"rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/20 dark:text-blue-300\">\n                        {content.type}\n                      </span>\n                      <span className=\"text-sm font-semibold text-zinc-900 dark:text-zinc-100\">\n                        ‚Ç¨{content.pricePerMinute.toFixed(2)}/min\n                      </span>\n                    </div>\n                    <h3 className=\"mb-2 font-semibold text-zinc-900 dark:text-zinc-100\">\n                      {content.title}\n                    </h3>\n                    <Link\n                      href={`/player?contentId=${content.id}&title=${encodeURIComponent(content.title)}&price=${content.pricePerMinute}`}\n                      className=\"block w-full rounded-lg bg-blue-500 px-4 py-2 text-center text-sm font-medium text-white transition-colors hover:bg-blue-600\"\n                    >\n                      Start Now\n                    </Link>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Info */}\n        {!walletAddress && (\n          <div className=\"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-900/20\">\n            <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n              Please connect your Pera Wallet to start watching content.\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Currently Watching Widget */}\n      <CurrentlyWatching />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}