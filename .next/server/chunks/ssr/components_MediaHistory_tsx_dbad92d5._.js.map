{"version":3,"sources":["turbopack:///[project]/components/MediaHistory.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface MediaItem {\r\n  id: string;\r\n  platform: string;\r\n  platformIcon: string;\r\n  title: string;\r\n  category: 'video' | 'audio' | 'learn' | 'entertainment';\r\n  duration: number; // seconds\r\n  cost: number;\r\n  watchedAt: string;\r\n  watchCount: number;\r\n}\r\n\r\nexport default function MediaHistory() {\r\n  const [mediaHistory, setMediaHistory] = useState<MediaItem[]>([]);\r\n  const [filter, setFilter] = useState<'all' | 'video' | 'audio' | 'learn' | 'entertainment'>('all');\r\n  const [sortBy, setSortBy] = useState<'date' | 'duration' | 'cost' | 'platform'>('date');\r\n  const [dateRange, setDateRange] = useState<'today' | 'week' | 'month' | 'all'>('all');\r\n\r\n  useEffect(() => {\r\n    loadMediaHistory();\r\n  }, [filter, dateRange]);\r\n\r\n  function loadMediaHistory() {\r\n    try {\r\n      const stored = localStorage.getItem('media_history');\r\n      let history: MediaItem[] = stored ? JSON.parse(stored) : [];\r\n\r\n      // Apply filters\r\n      if (filter !== 'all') {\r\n        history = history.filter((item) => item.category === filter);\r\n      }\r\n\r\n      // Apply date range\r\n      const now = new Date();\r\n      if (dateRange !== 'all') {\r\n        history = history.filter((item) => {\r\n          const itemDate = new Date(item.watchedAt);\r\n          switch (dateRange) {\r\n            case 'today':\r\n              return itemDate.toDateString() === now.toDateString();\r\n            case 'week':\r\n              const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n              return itemDate >= weekAgo;\r\n            case 'month':\r\n              const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\r\n              return itemDate >= monthAgo;\r\n            default:\r\n              return true;\r\n          }\r\n        });\r\n      }\r\n\r\n      // Sort\r\n      history.sort((a, b) => {\r\n        switch (sortBy) {\r\n          case 'date':\r\n            return new Date(b.watchedAt).getTime() - new Date(a.watchedAt).getTime();\r\n          case 'duration':\r\n            return b.duration - a.duration;\r\n          case 'cost':\r\n            return b.cost - a.cost;\r\n          case 'platform':\r\n            return a.platform.localeCompare(b.platform);\r\n          default:\r\n            return 0;\r\n        }\r\n      });\r\n\r\n      setMediaHistory(history);\r\n    } catch (error) {\r\n      console.error('Error loading media history:', error);\r\n      setMediaHistory([]);\r\n    }\r\n  }\r\n\r\n  function formatDuration(seconds: number): string {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = seconds % 60;\r\n\r\n    if (hours > 0) {\r\n      return `${hours}h ${minutes}m ${secs}s`;\r\n    } else if (minutes > 0) {\r\n      return `${minutes}m ${secs}s`;\r\n    } else {\r\n      return `${secs}s`;\r\n    }\r\n  }\r\n\r\n  const categoryLabels: Record<string, string> = {\r\n    video: 'Video',\r\n    audio: 'Audio',\r\n    learn: 'Learning',\r\n    entertainment: 'Games',\r\n  };\r\n\r\n  const totalDuration = mediaHistory.reduce((sum, item) => sum + item.duration, 0);\r\n  const totalCost = mediaHistory.reduce((sum, item) => sum + item.cost, 0);\r\n  const totalWatches = mediaHistory.reduce((sum, item) => sum + item.watchCount, 0);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\r\n        <div className=\"rounded-xl border border-zinc-200 bg-gradient-to-br from-blue-50 to-cyan-50 p-4 dark:border-zinc-800 dark:from-blue-900/20 dark:to-cyan-900/20\">\r\n          <div className=\"text-sm font-medium text-zinc-600 dark:text-zinc-400\">Total Time</div>\r\n          <div className=\"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100\">\r\n            {formatDuration(totalDuration)}\r\n          </div>\r\n        </div>\r\n        <div className=\"rounded-xl border border-zinc-200 bg-gradient-to-br from-green-50 to-emerald-50 p-4 dark:border-zinc-800 dark:from-green-900/20 dark:to-emerald-900/20\">\r\n          <div className=\"text-sm font-medium text-zinc-600 dark:text-zinc-400\">Total Spent</div>\r\n          <div className=\"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100\">\r\n            ‚Ç¨{totalCost.toFixed(2)}\r\n          </div>\r\n        </div>\r\n        <div className=\"rounded-xl border border-zinc-200 bg-gradient-to-br from-purple-50 to-pink-50 p-4 dark:border-zinc-800 dark:from-purple-900/20 dark:to-pink-900/20\">\r\n          <div className=\"text-sm font-medium text-zinc-600 dark:text-zinc-400\">Total Watches</div>\r\n          <div className=\"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100\">\r\n            {totalWatches}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex flex-wrap items-center gap-3 rounded-xl border border-zinc-200 bg-white/80 p-4 backdrop-blur-sm dark:border-zinc-800 dark:bg-zinc-900/80\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">Category:</label>\r\n          <select\r\n            value={filter}\r\n            onChange={(e) => setFilter(e.target.value as any)}\r\n            className=\"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100\"\r\n          >\r\n            <option value=\"all\">All</option>\r\n            <option value=\"video\">Video</option>\r\n            <option value=\"audio\">Audio</option>\r\n            <option value=\"learn\">Learning</option>\r\n            <option value=\"entertainment\">Entertainment</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">Date:</label>\r\n          <select\r\n            value={dateRange}\r\n            onChange={(e) => setDateRange(e.target.value as any)}\r\n            className=\"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100\"\r\n          >\r\n            <option value=\"all\">All Time</option>\r\n            <option value=\"today\">Today</option>\r\n            <option value=\"week\">This Week</option>\r\n            <option value=\"month\">This Month</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">Sort:</label>\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value as any)}\r\n            className=\"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100\"\r\n          >\r\n            <option value=\"date\">Date</option>\r\n            <option value=\"duration\">Duration</option>\r\n            <option value=\"cost\">Cost</option>\r\n            <option value=\"platform\">Platform</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Media History List */}\r\n      <div className=\"space-y-3\">\r\n        {mediaHistory.length === 0 ? (\r\n          <div className=\"rounded-xl border border-zinc-200 bg-zinc-50 p-8 text-center dark:border-zinc-800 dark:bg-zinc-800/50\">\r\n            <p className=\"text-zinc-600 dark:text-zinc-400\">No media history found</p>\r\n          </div>\r\n        ) : (\r\n          mediaHistory.map((item) => (\r\n            <div\r\n              key={item.id}\r\n              className=\"group rounded-2xl border-2 border-zinc-200 bg-gradient-to-br from-white to-zinc-50/50 p-5 shadow-sm transition-all hover:shadow-xl hover:-translate-y-1 dark:border-zinc-800 dark:from-zinc-900 dark:to-zinc-800/50\"\r\n            >\r\n              <div className=\"flex items-start gap-4\">\r\n                <div className=\"flex h-14 w-14 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-100 to-cyan-100 text-3xl shadow-md dark:from-blue-900/30 dark:to-cyan-900/30\">\r\n                  {item.platformIcon}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center gap-2 mb-1\">\r\n                    <h4 className=\"font-semibold text-zinc-900 dark:text-zinc-100\">{item.title}</h4>\r\n                    <span className=\"rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300\">\r\n                      {categoryLabels[item.category]}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-zinc-600 dark:text-zinc-400 mb-2\">\r\n                    {item.platform} ‚Ä¢ Watched {item.watchCount} {item.watchCount === 1 ? 'time' : 'times'}\r\n                  </p>\r\n                  <div className=\"flex flex-wrap items-center gap-4 text-xs text-zinc-500 dark:text-zinc-500\">\r\n                    <span>‚è±Ô∏è {formatDuration(item.duration)}</span>\r\n                    <span>üí∞ ‚Ç¨{item.cost.toFixed(2)}</span>\r\n                    <span>üìÖ {new Date(item.watchedAt).toLocaleDateString()}</span>\r\n                    <span>üïê {new Date(item.watchedAt).toLocaleTimeString()}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}