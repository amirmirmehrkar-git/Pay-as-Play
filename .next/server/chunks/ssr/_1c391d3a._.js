module.exports=[67070,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)("all"),[g,h]=(0,c.useState)("date"),[i,j]=(0,c.useState)("all");function k(a){let b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return b>0?`${b}h ${c}m ${d}s`:c>0?`${c}m ${d}s`:`${d}s`}(0,c.useEffect)(()=>{try{let a=localStorage.getItem("media_history"),b=a?JSON.parse(a):[];"all"!==e&&(b=b.filter(a=>a.category===e));let c=new Date;"all"!==i&&(b=b.filter(a=>{let b=new Date(a.watchedAt);switch(i){case"today":return b.toDateString()===c.toDateString();case"week":let d=new Date(c.getTime()-6048e5);return b>=d;case"month":let e=new Date(c.getTime()-2592e6);return b>=e;default:return!0}})),b.sort((a,b)=>{switch(g){case"date":return new Date(b.watchedAt).getTime()-new Date(a.watchedAt).getTime();case"duration":return b.duration-a.duration;case"cost":return b.cost-a.cost;case"platform":return a.platform.localeCompare(b.platform);default:return 0}}),d(b)}catch(a){console.error("Error loading media history:",a),d([])}},[e,i]);let l={video:"Video",audio:"Audio",learn:"Learning",entertainment:"Games"},m=a.reduce((a,b)=>a+b.duration,0),n=a.reduce((a,b)=>a+b.cost,0),o=a.reduce((a,b)=>a+b.watchCount,0);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-blue-50 to-cyan-50 p-4 dark:border-zinc-800 dark:from-blue-900/20 dark:to-cyan-900/20",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Total Time"}),(0,b.jsx)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:k(m)})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-green-50 to-emerald-50 p-4 dark:border-zinc-800 dark:from-green-900/20 dark:to-emerald-900/20",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Total Spent"}),(0,b.jsxs)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:["â‚¬",n.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-gradient-to-br from-purple-50 to-pink-50 p-4 dark:border-zinc-800 dark:from-purple-900/20 dark:to-pink-900/20",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Total Watches"}),(0,b.jsx)("div",{className:"mt-1 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:o})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 rounded-xl border border-zinc-200 bg-white/80 p-4 backdrop-blur-sm dark:border-zinc-800 dark:bg-zinc-900/80",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Category:"}),(0,b.jsxs)("select",{value:e,onChange:a=>f(a.target.value),className:"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"video",children:"Video"}),(0,b.jsx)("option",{value:"audio",children:"Audio"}),(0,b.jsx)("option",{value:"learn",children:"Learning"}),(0,b.jsx)("option",{value:"entertainment",children:"Entertainment"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Date:"}),(0,b.jsxs)("select",{value:i,onChange:a=>j(a.target.value),className:"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,b.jsx)("option",{value:"all",children:"All Time"}),(0,b.jsx)("option",{value:"today",children:"Today"}),(0,b.jsx)("option",{value:"week",children:"This Week"}),(0,b.jsx)("option",{value:"month",children:"This Month"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Sort:"}),(0,b.jsxs)("select",{value:g,onChange:a=>h(a.target.value),className:"rounded-lg border-2 border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,b.jsx)("option",{value:"date",children:"Date"}),(0,b.jsx)("option",{value:"duration",children:"Duration"}),(0,b.jsx)("option",{value:"cost",children:"Cost"}),(0,b.jsx)("option",{value:"platform",children:"Platform"})]})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===a.length?(0,b.jsx)("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-8 text-center dark:border-zinc-800 dark:bg-zinc-800/50",children:(0,b.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"No media history found"})}):a.map(a=>(0,b.jsx)("div",{className:"group rounded-2xl border-2 border-zinc-200 bg-gradient-to-br from-white to-zinc-50/50 p-5 shadow-sm transition-all hover:shadow-xl hover:-translate-y-1 dark:border-zinc-800 dark:from-zinc-900 dark:to-zinc-800/50",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-100 to-cyan-100 text-3xl shadow-md dark:from-blue-900/30 dark:to-cyan-900/30",children:a.platformIcon}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:a.title}),(0,b.jsx)("span",{className:"rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:l[a.category]})]}),(0,b.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:[a.platform," â€¢ Watched ",a.watchCount," ",1===a.watchCount?"time":"times"]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-zinc-500 dark:text-zinc-500",children:[(0,b.jsxs)("span",{children:["â±ï¸ ",k(a.duration)]}),(0,b.jsxs)("span",{children:["ðŸ’° â‚¬",a.cost.toFixed(2)]}),(0,b.jsxs)("span",{children:["ðŸ“… ",new Date(a.watchedAt).toLocaleDateString()]}),(0,b.jsxs)("span",{children:["ðŸ• ",new Date(a.watchedAt).toLocaleTimeString()]})]})]})]})},a.id))})]})}a.s(["default",()=>d])},93444,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(67594);function e({timeWatchedData:a=[],costData:d=[],monthlySpend:e=[]}){let f=(0,c.useRef)(null),g=(0,c.useRef)(null),h=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let{days:a,timeData:b,costData:c}=(()=>{let a=[],b=[],c=[];for(let d=6;d>=0;d--){let e=new Date;e.setDate(e.getDate()-d),a.push(e.toLocaleDateString("en-US",{weekday:"short"})),b.push(Math.floor(120*Math.random())+30),c.push(5*Math.random()+1)}return{days:a,timeData:b,costData:c}})();if(f.current&&function(a,b,c,d){let e=a.getContext("2d");if(!e)return;let f=a.width,g=a.height,h=f-80,i=g-80;e.clearRect(0,0,f,g),e.strokeStyle="#e4e4e7",e.lineWidth=1,e.beginPath(),e.moveTo(40,40),e.lineTo(40,g-40),e.lineTo(f-40,g-40),e.stroke();let j=Math.max(...c,1);for(let a=0;a<=5;a++){let b=40+i/5*a;e.strokeStyle="#f4f4f5",e.beginPath(),e.moveTo(40,b),e.lineTo(f-40,b),e.stroke()}e.strokeStyle="#3b82f6",e.lineWidth=2,e.beginPath(),c.forEach((a,b)=>{let d=40+h/(c.length-1||1)*b,f=g-40-a/j*i;0===b?e.moveTo(d,f):e.lineTo(d,f)}),e.stroke(),e.fillStyle="#3b82f6",c.forEach((a,b)=>{let d=40+h/(c.length-1||1)*b;e.beginPath(),e.arc(d,g-40-a/j*i,4,0,2*Math.PI),e.fill()}),e.fillStyle="#71717a",e.font="12px sans-serif",e.textAlign="center",b.forEach((a,c)=>{let d=40+h/(b.length-1||1)*c;e.fillText(a,d,g-40+20)})}(f.current,a,b,0),g.current&&function(a,b,c,d){let e=a.getContext("2d");if(!e)return;let f=a.width,g=a.height,h=f-80,i=g-80;e.clearRect(0,0,f,g),e.strokeStyle="#e4e4e7",e.lineWidth=1,e.beginPath(),e.moveTo(40,40),e.lineTo(40,g-40),e.lineTo(f-40,g-40),e.stroke();let j=Math.max(...c,1),k=h/c.length-10;c.forEach((a,b)=>{let d=40+h/c.length*b+5,f=a/j*i;e.fillStyle="#10b981",e.fillRect(d,g-40-f,k,f)}),e.fillStyle="#71717a",e.font="12px sans-serif",e.textAlign="center",b.forEach((a,b)=>{let d=40+h/c.length*b+h/c.length/2;e.fillText(a,d,g-40+20)})}(g.current,a,c,0),h.current){let a=["Jan","Feb","Mar","Apr","May","Jun"],b=a.map(()=>50*Math.random()+20);!function(a,b,c,d){let e=a.getContext("2d");if(!e)return;let f=a.width,g=a.height,h=f-80,i=g-80;e.clearRect(0,0,f,g),e.strokeStyle="#e4e4e7",e.lineWidth=1,e.beginPath(),e.moveTo(40,40),e.lineTo(40,g-40),e.lineTo(f-40,g-40),e.stroke();let j=Math.max(...c,1);e.fillStyle="rgba(139, 92, 246, 0.3)",e.beginPath(),c.forEach((a,b)=>{let d=40+h/(c.length-1||1)*b;0===b&&e.moveTo(d,g-40),e.lineTo(d,g-40-a/j*i)}),e.lineTo(f-40,g-40),e.closePath(),e.fill(),e.strokeStyle="#8b5cf6",e.lineWidth=2,e.beginPath(),c.forEach((a,b)=>{let d=40+h/(c.length-1||1)*b,f=g-40-a/j*i;0===b?e.moveTo(d,f):e.lineTo(d,f)}),e.stroke(),e.fillStyle="#71717a",e.font="12px sans-serif",e.textAlign="center",b.forEach((a,c)=>{let d=40+h/(b.length-1||1)*c;e.fillText(a,d,g-40+20)})}(h.current,a,b,0)}},[a,d,e]),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-white p-4 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,b.jsx)("h3",{className:"mb-3 text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Time Watched Over Time"}),(0,b.jsx)("canvas",{ref:f,width:300,height:200,className:"w-full"})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-white p-4 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,b.jsx)("h3",{className:"mb-3 text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Cost per Content"}),(0,b.jsx)("canvas",{ref:g,width:300,height:200,className:"w-full"})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-white p-4 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,b.jsx)("h3",{className:"mb-3 text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Monthly Spend"}),(0,b.jsx)("canvas",{ref:h,width:300,height:200,className:"w-full"})]})]})}var f=a.i(67070);function g(){let[a,g]=(0,c.useState)("0h 0m"),[h,i]=(0,c.useState)("â‚¬0.00"),[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)("month"),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]);async function t(){m(!0);try{let a=(await (0,d.getWalletConnect)()).getConnectedAddress();if(!a)return void m(!1);let b=await (0,d.getAnalytics)(),c=await b.getUserAnalytics({userId:a,dateRange:n}),e=Math.floor((c.totalTimeWatched||0)/3600),f=Math.floor((c.totalTimeWatched||0)%3600/60);g(`${e}h ${f}m`),i(`â‚¬${(c.totalSpent||0).toFixed(2)}`),k(c.contentCount||0),q([{id:"1",platform:"Netflix",title:"Sample Movie",category:"video",timeWatched:3600,cost:1.2,date:"2025-11-16"},{id:"2",platform:"Spotify",title:"Sample Podcast",category:"audio",timeWatched:1800,cost:.6,date:"2025-11-15"},{id:"3",platform:"Coursera",title:"Sample Course",category:"learn",timeWatched:5400,cost:2.7,date:"2025-11-14"}]),s([{id:"1",code:"WELCOME10",type:"discount",value:10,validUntil:"2025-12-31",used:!1},{id:"2",code:"FREEMONTH",type:"free",value:30,validUntil:"2025-11-30",used:!0},{id:"3",code:"BONUS50",type:"bonus",value:50,validUntil:"2025-12-15",used:!1}])}catch(a){console.error("Error loading analytics:",a)}finally{m(!1)}}return(0,c.useEffect)(()=>{t()},[n]),(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-zinc-900 dark:to-zinc-800",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Analytics Dashboard"}),(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:"rounded-lg border border-zinc-300 bg-white px-4 py-2 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100",children:[(0,b.jsx)("option",{value:"today",children:"Today"}),(0,b.jsx)("option",{value:"week",children:"This Week"}),(0,b.jsx)("option",{value:"month",children:"This Month"}),(0,b.jsx)("option",{value:"year",children:"This Year"})]})]}),(0,b.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Time Watched"}),(0,b.jsx)("span",{className:"text-2xl",children:"â±ï¸"})]}),l?(0,b.jsx)("div",{className:"h-8 w-24 animate-pulse rounded bg-zinc-200 dark:bg-zinc-700"}):(0,b.jsx)("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:a})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Total Spent"}),(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ’°"})]}),l?(0,b.jsx)("div",{className:"h-8 w-24 animate-pulse rounded bg-zinc-200 dark:bg-zinc-700"}):(0,b.jsx)("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:h})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-200 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Content Count"}),(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ“º"})]}),l?(0,b.jsx)("div",{className:"h-8 w-24 animate-pulse rounded bg-zinc-200 dark:bg-zinc-700"}):(0,b.jsx)("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:j})]})]}),(0,b.jsxs)("div",{className:"mb-8 rounded-2xl border-2 border-zinc-200 bg-gradient-to-br from-white to-zinc-50/50 p-6 shadow-xl dark:border-zinc-800 dark:from-zinc-900 dark:to-zinc-800/50",children:[(0,b.jsx)("h2",{className:"mb-6 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Analytics Charts"}),(0,b.jsx)(e,{})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(f.default,{})}),(0,b.jsxs)("div",{className:"mb-8 rounded-2xl border-2 border-zinc-200 bg-gradient-to-br from-white to-zinc-50/50 p-6 shadow-xl dark:border-zinc-800 dark:from-zinc-900 dark:to-zinc-800/50",children:[(0,b.jsx)("h2",{className:"mb-6 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Coupons & Gift Codes"}),l?(0,b.jsx)("div",{className:"py-8 text-center text-zinc-500 dark:text-zinc-400",children:"Loading..."}):0===r.length?(0,b.jsx)("div",{className:"py-8 text-center text-zinc-500 dark:text-zinc-400",children:"No coupons available"}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(a=>(0,b.jsxs)("div",{className:`rounded-lg border p-4 ${a.used?"border-zinc-200 bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-800/50":"discount"===a.type?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"free"===a.type?"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20":"border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-900/20"}`,children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${"discount"===a.type?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"free"===a.type?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300"}`,children:"discount"===a.type?"Discount":"free"===a.type?"Free":"Bonus"}),a.used&&(0,b.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Used"})]}),(0,b.jsx)("div",{className:"mb-2 font-mono text-lg font-bold text-zinc-900 dark:text-zinc-100",children:a.code}),(0,b.jsx)("div",{className:"mb-2 text-sm text-zinc-600 dark:text-zinc-400",children:"discount"===a.type?`${a.value}% off`:"free"===a.type?`Free ${a.value} days`:`${a.value} PLY bonus`}),(0,b.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:["Valid until: ",a.validUntil]}),!a.used&&(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(a.code),alert(`Coupon code ${a.code} copied to clipboard!`)},className:"mt-3 w-full rounded-lg bg-blue-500 px-3 py-1 text-xs font-medium text-white transition-colors hover:bg-blue-600",children:"Copy Code"})]},a.id))})]}),(0,b.jsxs)("div",{className:"rounded-2xl border-2 border-zinc-200 bg-gradient-to-br from-white to-zinc-50/50 p-6 shadow-xl dark:border-zinc-800 dark:from-zinc-900 dark:to-zinc-800/50",children:[(0,b.jsx)("h2",{className:"mb-6 text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Export Data"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,b.jsx)("button",{className:"rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-3 text-sm font-semibold text-white shadow-lg transition-all hover:from-blue-600 hover:to-cyan-600 hover:shadow-xl hover:scale-105 active:scale-95",children:"Export as CSV"}),(0,b.jsx)("button",{className:"rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-3 text-sm font-semibold text-white shadow-lg transition-all hover:from-green-600 hover:to-emerald-600 hover:shadow-xl hover:scale-105 active:scale-95",children:"Download PDF Report"}),(0,b.jsx)("button",{className:"rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-3 text-sm font-semibold text-white shadow-lg transition-all hover:from-purple-600 hover:to-pink-600 hover:shadow-xl hover:scale-105 active:scale-95",children:"Share with Partner"})]})]})]})})}a.s(["default",()=>g],93444)}];

//# sourceMappingURL=_1c391d3a._.js.map