module.exports=[3367,97770,3600,a=>{"use strict";let b=null,c={apiBaseUrl:"http://localhost:8080",network:"testnet",algodUrl:"https://testnet-api.algonode.cloud",algodToken:"",algodPort:"",indexerUrl:"https://testnet-idx.algonode.cloud",indexerToken:"",indexerPort:"",asaId:null,currency:"PLY",ratePerMinute:.02,autoTopupThreshold:1,appId:null,providerAddr:null,platformAddr:null,platformFeePct:500,demoMode:!1};function d(a={}){let e={apiBaseUrl:process.env.PLAYANDPAY_API_URL||c.apiBaseUrl,network:process.env.PLAYANDPAY_NETWORK||c.network,algodUrl:process.env.PLAYANDPAY_ALGOD_URL||c.algodUrl,indexerUrl:process.env.PLAYANDPAY_INDEXER_URL||c.indexerUrl,asaId:process.env.PLAYANDPAY_ASA_ID?parseInt(process.env.PLAYANDPAY_ASA_ID):null,appId:process.env.PLAYANDPAY_APP_ID?parseInt(process.env.PLAYANDPAY_APP_ID):null,providerAddr:process.env.PLAYANDPAY_PROVIDER_ADDR||null,platformAddr:process.env.PLAYANDPAY_PLATFORM_ADDR||null,apiKey:process.env.PLAYANDPAY_API_KEY||null};return"mainnet"===(b={...c,...e,...a}).network&&(b.algodUrl=b.algodUrl||"https://mainnet-api.algonode.cloud",b.indexerUrl=b.indexerUrl||"https://mainnet-idx.algonode.cloud"),b.asaId&&b.providerAddr||(b.demoMode=!0),b}function e(){return b||(console.warn("⚠️  Config not initialized. Using defaults."),d())}function f(){return e().demoMode}function g(){let a=e();return{algodUrl:a.algodUrl,algodToken:a.algodToken,algodPort:a.algodPort,indexerUrl:a.indexerUrl,indexerToken:a.indexerToken,indexerPort:a.indexerPort}}a.s(["getAlgorandConfig",()=>g,"getConfig",()=>e,"initConfig",()=>d,"isDemoMode",()=>f],97770);let h={enabled:!1,log(...a){this.enabled&&console.log("[PlayAndPay]",...a)},error(...a){console.error("[PlayAndPay] ERROR:",...a)},warn(...a){this.enabled&&console.warn("[PlayAndPay] WARN:",...a)},debug(...a){this.enabled&&process.env.DEBUG&&console.debug("[PlayAndPay] DEBUG:",...a)}};function i(a,b=2){return a/Math.pow(10,b)}function j(a,b=.01){return Math.round(a/b)}function k(a,b=.01){return a*b}function l(a){return 60*a*1e3}function m(a){return a/6e4}function n(a="id"){return`${a}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function o(a,b=Date.now()){return`tick_${a}_${b}_${Math.random().toString(36).substr(2,6)}`}function p(a){let b=Math.floor(a/1e3),c=Math.floor(b/60),d=Math.floor(c/60);return d>0?`${d}h ${c%60}m ${b%60}s`:c>0?`${c}m ${b%60}s`:`${b}s`}function q(a,b="EUR"){return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(a)}function r(a){return new Promise(b=>setTimeout(b,a))}async function s(a,b=3,c=1e3){for(let d=0;d<b;d++)try{return await a()}catch(a){if(d===b-1)throw a;h.warn(`Retry ${d+1}/${b} after error:`,a.message),await r(c*(d+1))}}function t(a){return!!a&&"string"==typeof a&&/^[A-Z2-7]{58}$/.test(a)}function u(a){return!!a&&"string"==typeof a&&/^session_[a-zA-Z0-9_]+$/.test(a)}a.s(["default",0,{logger:h,formatAmount:i,eurToPLYMinor:j,plyMinorToEUR:k,minutesToMs:l,msToMinutes:m,generateId:n,generateTickId:o,formatDuration:p,formatCurrency:q,sleep:r,retry:s,isValidAddress:t,isValidSessionId:u},"eurToPLYMinor",()=>j,"formatAmount",()=>i,"formatCurrency",()=>q,"formatDuration",()=>p,"generateId",()=>n,"generateTickId",()=>o,"isValidAddress",()=>t,"isValidSessionId",()=>u,"logger",0,h,"minutesToMs",()=>l,"msToMinutes",()=>m,"plyMinorToEUR",()=>k,"retry",()=>s,"sleep",()=>r],3600);let v=null,w=!1,x=null;async function y(){return h.warn("Pera Wallet can only be used in browser environment"),null}async function z(){if(v||(v=await y()),!v)throw Error("Pera Wallet not available. Make sure @perawallet/connect is installed.");try{let a=await v.connect();if(a&&a.length>0)return w=!0,x=a[0],h.debug("Wallet connected:",x),x;throw Error("No accounts returned from wallet")}catch(a){throw a.data?.type!=="CONNECT_MODAL_CLOSED"&&h.error("Error connecting wallet:",a),a}}async function A(){if(v)try{await v.disconnect(),w=!1,x=null,h.debug("Wallet disconnected")}catch(a){h.error("Error disconnecting wallet:",a)}}function B(){return x}function C(){return w&&null!==x}async function D(a){if(!w||!v)throw Error("Wallet not connected. Call connectWallet() first.");try{let b=await v.signTransaction(Array.isArray(a)?a:[a]);return h.debug("Transactions signed successfully"),Array.isArray(b)?b:[b]}catch(a){throw a.data?.type!=="SIGN_MODAL_CLOSED"&&h.error("Error signing transactions:",a),a}}async function E(a){return(await D([a]))[0]}async function F(){if(v||(v=await y()),v)try{let a=await v.reconnectSession();if(a&&a.length>0)return w=!0,x=a[0],h.debug("Wallet reconnected:",x),x}catch(a){h.debug("No previous session to reconnect")}return null}function G(){if(!w)throw Error("Wallet not connected");return{address:x,signTransaction:async a=>await E(a),signTransactions:async a=>await D(a)}}a.s(["connectWallet",()=>z,"default",0,{initPeraWallet:y,connectWallet:z,disconnectWallet:A,getConnectedAddress:B,isWalletConnected:C,signTransactions:D,signTransaction:E,reconnectWallet:F,getWalletConnector:G},"disconnectWallet",()=>A,"getConnectedAddress",()=>B,"getWalletConnector",()=>G,"initPeraWallet",()=>y,"isWalletConnected",()=>C,"reconnectWallet",()=>F,"signTransaction",()=>E,"signTransactions",()=>D],3367)},55853,a=>{a.v(a=>Promise.resolve().then(()=>a(3367)))}];

//# sourceMappingURL=playandpay-sdk_src_wallet-connect_085a2041.js.map